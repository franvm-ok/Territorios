<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Iniciar sesi√≥n</title>
<style>
  body{margin:0;font-family:Arial;background:#f4f4f4;color:#333}
  .wrap{max-width:420px;margin:80px auto;padding:20px}
  .card{background:#fff;padding:18px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,0.08)}
  h1{text-align:center;color:#1a4b27}
  .input-wrap{position:relative;width:100%;margin-bottom:12px}
  input{width:100%;padding:12px;border-radius:8px;border:1px solid #ccc;box-sizing:border-box}
  .toggle-pass{
    position:absolute;
    right:12px;
    top:50%;
    transform:translateY(-50%);
    cursor:pointer;
    font-size:16px;
    color:#666;
    background:none;
    border:none;
  }
  .btn{padding:12px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .btn-login{background:#1a4b27;color:#fff;width:100%}
  .small{font-size:13px;color:#666;text-align:center;margin-top:8px;line-height:1.4}
  .back{position:fixed;left:16px;bottom:18px;background:#1a4b27;color:#fff;padding:10px 14px;border-radius:10px;border:none;cursor:pointer}
</style>
</head>
<body>

<div class="wrap">
  <div class="card">
    <h1>Iniciar sesi√≥n</h1>

    <div class="input-wrap">
      <input id="user" placeholder="Usuario" />
    </div>

    <div class="input-wrap">
      <input id="pass" placeholder="Contrase√±a" type="password"/>
      <button class="toggle-pass" id="togglePass">üëÅÔ∏è</button>
    </div>

    <button class="btn btn-login" id="loginBtn">Entrar</button>

    <div class="small">
      Conductor: <b>conductor / conductor</b>
    </div>
  </div>
</div>

<button class="back" onclick="location.href='index.html'">‚¨Ö Volver</button>

<script>
const togglePassBtn = document.getElementById('togglePass');
const passInput = document.getElementById('pass');
const userInput = document.getElementById('user');

// Mostrar/ocultar contrase√±a
togglePassBtn.addEventListener('click', ()=>{
  passInput.type = (passInput.type === 'password') ? 'text' : 'password';
});

document.getElementById('loginBtn').addEventListener('click', ()=>{

  const user = userInput.value.trim().toLowerCase(); // Ignora may√∫sculas/min√∫sculas
  const pass = passInput.value.trim();

  if(!user){
    alert('Ingrese usuario');
    return;
  }

  // ADMIN
  if(user === 'admin' && pass === '1234'){
    guardarSesion('admin', user);
    location.href="index.html";
    return;
  }

  // CONDUCTOR
  if(user === 'conductor' && pass === 'conductor'){
    guardarSesion('conductor', user);
    location.href="index.html";
    return;
  }

  // INVITADO
  if(user === 'invitado'){
    guardarSesion('invitado', 'Invitado');
    location.href="index.html";
    return;
  }

  alert('Usuario o contrase√±a incorrectos');
});

function guardarSesion(rol, nombre){
  const sesion = {
    rol,
    nombre,
    fecha: Date.now()
  };
  localStorage.setItem("rol", rol);
  localStorage.setItem("sesion", JSON.stringify(sesion));
}
</script>

</body>
</html>