// Abrir selector de PDF
document.getElementById("btnAgregarPDF").addEventListener("click", () => {
    document.getElementById("pdfInput").click();
});

// Cuando el usuario selecciona un PDF
document.getElementById("pdfInput").addEventListener("change", function(){
    const file = this.files[0];
    if (!file) return;

    const reader = new FileReader();

    reader.onload = function(e) {
        const pdfBase64 = e.target.result;

        localStorage.setItem("pdfAnuncio", pdfBase64); // guardar PDF

        mostrarPDF(pdfBase64); // mostrarlo al usuario
    };

    reader.readAsDataURL(file); // convertir a base64
});

// Mostrar PDF en pantalla
function mostrarPDF(base64){
    const viewer = document.getElementById("pdfViewer");
    viewer.src = base64;

    document.getElementById("pdfViewerContainer").style.display = "block";
}

// Cargar PDF guardado si existe
window.addEventListener("DOMContentLoaded", () => {
    const guardado = localStorage.getItem("pdfAnuncio");
    if (guardado){
        mostrarPDF(guardado);
    }
});

// Volver al menú
function goToMenu(){
    window.location.href = "index.html"; // Cambiar si tu menú está en otro archivo
}
