<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Departamento de Territorio</title>
  <meta name="description" content="App Territorios - reportes y sincronizaci√≥n en tiempo real" />

  <!-- styles -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Firebase compat -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>

  <div class="app-shell">

    <!-- Header -->
    <header class="app-header">
      <div class="left-placeholder" aria-hidden="true"></div>
      <div class="brand" role="banner">
        <div class="title">Departamento de Territorio</div>
        <div class="subtitle">Congregaci√≥n Cuatro Plazas</div>
      </div>

      <div class="header-right">
        <div class="search-box hidden sm:flex" role="search" aria-label="Buscar reportes">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="#64748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <input id="searchInput" placeholder="Buscar reportes..." />
        </div>

        <button id="loginBtn" class="btn btn-ghost hidden sm:inline" aria-label="Iniciar sesi√≥n">Iniciar sesi√≥n</button>

        <div class="settings-wrapper">
          <button id="settingsBtn" class="btn btn-ghost" title="Ajustes" aria-haspopup="true" aria-expanded="false">‚öôÔ∏è</button>
          <div id="settingsMenu" class="settings-menu" aria-hidden="true">
            <label class="settings-row">
              <span>Modo oscuro</span>
              <input id="darkToggle" type="checkbox" aria-label="Modo oscuro" />
            </label>
            <div class="muted small">Opciones</div>
          </div>
        </div>

      </div>
    </header>

    <div class="main-row">

      <!-- Sidebar (PC) -->
      <aside class="pc-sidebar" role="navigation" aria-label="Navegaci√≥n principal">
        <button class="nav pc-nav" data-nav="home" title="Inicio">
          <div class="pc-icon">üè†</div><div class="pc-label">Inicio</div>
        </button>

        <button class="nav pc-nav" data-nav="reports" title="Reportes">
          <div class="pc-icon">üì∞</div><div class="pc-label">Noticias</div>
        </button>

        <button id="pcFab" title="Nuevo Reporte" class="pc-fab">+</button>

        <button class="nav pc-nav" data-nav="help" title="Ayuda">
          <div class="pc-icon">‚ùì</div><div class="pc-label">Ayuda</div>
        </button>

        <button class="nav pc-nav" data-nav="profile" title="Perfil">
          <div class="pc-icon">üë§</div><div class="pc-label">Perfil</div>
        </button>
      </aside>

      <!-- Content area -->
      <div class="content-area">

        <!-- HOME SCREEN -->
        <main id="homeScreen" class="screen" role="main">
          <div class="home-header">
            <h2>Inicio</h2>
            <div class="muted" id="connectionState">Conexi√≥n: desconectado</div>
          </div>

          <div class="hero-wrap">
            <!-- local image path (change to images/hero.png when you upload to Github) -->
            <img src="/mnt/data/A_2D_digital_illustration_features_a_cartoon-like_.png" alt="Hero" class="hero-img" />
          </div>

          <div class="dashboard" id="cardsGrid" aria-live="polite"></div>
        </main>

        <!-- NEW / MANZANAS SCREEN -->
        <section id="newScreen" class="screen hidden" aria-hidden="true">
          <div class="subheader">
            <button id="backFromNew" class="btn btn-ghost">‚Üê Volver</button>
            <div id="newTitle" class="subheader-title">Territorio</div>
          </div>

          <div class="form-card" role="form">
            <div class="muted">Tild√° las manzanas predicadas:</div>
            <div id="manzanasWrap" class="manzanas-grid" aria-label="selecci√≥n de manzanas"></div>

            <label class="field">
              <div class="muted">Conductor</div>
              <input id="conductorInput" type="text" placeholder="Nombre del conductor" />
            </label>

            <label class="field">
              <div class="muted">Observaci√≥n</div>
              <textarea id="obsInput" placeholder="Ej: Calle X incompleta, puerta cerrada..."></textarea>
            </label>

            <label class="check-row">
              <input id="incompleteFace" type="checkbox" />
              <span class="muted">Informar si hay alguna cara incompleta</span>
            </label>

            <div class="actions-row">
              <button id="saveAndSend" class="btn btn-teal">Guardar y enviar WhatsApp</button>
              <button id="saveLocal" class="btn btn-ghost">Guardar local</button>
            </div>

            <div id="newMsg" class="muted" style="margin-top:10px;"></div>
          </div>
        </section>

        <!-- REPORTS SCREEN -->
        <section id="reportsScreen" class="screen hidden" aria-hidden="true">
          <div class="home-header">
            <h2>Reportes</h2>
            <div class="muted">Total: <span id="reportsCount">0</span></div>
          </div>

          <div id="reportsList" class="reports-list"></div>
        </section>

        <!-- HELP, PROFILE placeholders -->
        <section id="helpScreen" class="screen hidden" aria-hidden="true">
          <h2>Ayuda</h2>
          <p class="muted">Informaci√≥n y contactos.</p>
        </section>

        <section id="profileScreen" class="screen hidden" aria-hidden="true">
          <h2>Perfil</h2>
          <p class="muted">Datos del usuario.</p>
        </section>

      </div>
    </div>

    <!-- bottom nav mobile (iOS-like) -->
    <nav class="mobile-bottom lg:hidden" role="navigation" aria-label="Barra inferior">
      <button class="nav-btn" data-mobile="home" aria-label="Inicio">üè†<div class="nav-label">Inicio</div></button>
      <button class="nav-btn" data-mobile="reports" aria-label="Noticias">üì∞<div class="nav-label">Noticias</div></button>
      <button id="fabMobile" class="fab-center" aria-label="Nuevo reporte">+</button>
      <button class="nav-btn" data-mobile="help" aria-label="Ayuda">‚ùì<div class="nav-label">Ayuda</div></button>
      <button class="nav-btn" data-mobile="profile" aria-label="Perfil">üë§<div class="nav-label">Perfil</div></button>
    </nav>

    <div id="toast" class="toast" role="status" aria-live="polite"></div>
  </div>

  <!-- app logic -->
  <script src="app.js"></script>
</body>
</html>
